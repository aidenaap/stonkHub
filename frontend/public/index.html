<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>StonkHub</title>
   <link rel="stylesheet" href="style.css">
</head>
<body onload="loadInitialData()" class="bg-[#222831] font-sans text-[#EEEEEE] h-screen overflow-hidden">
   <div id="app" class="h-full flex flex-col">
       <!-- Navbar -->
       <nav class="bg-[#31363F] px-6 py-4 flex justify-between items-center shadow-lg">
           <div class="flex space-x-4">
               <button onclick="loadLobbyingPage()" id="lobbying-btn" class="bg-[#76ABAE] hover:bg-[#76ABAE]/80 text-[#222831] px-6 py-2 rounded-lg font-semibold transition-colors active-tab">
                   Lobbying
               </button>
               <button onclick="loadCongressPage()" id="congress-btn" class="bg-transparent hover:bg-[#76ABAE]/20 text-[#EEEEEE] hover:text-[#76ABAE] px-6 py-2 rounded-lg font-semibold transition-colors border border-[#76ABAE]/30">
                   Congress
               </button>
               <button onclick="loadContractsPage()" id="contracts-btn" class="bg-transparent hover:bg-[#76ABAE]/20 text-[#EEEEEE] hover:text-[#76ABAE] px-6 py-2 rounded-lg font-semibold transition-colors border border-[#76ABAE]/30">
                   Awarded Contracts
               </button>
               <button onclick="loadNewsPage()" id="news-btn" class="bg-transparent hover:bg-[#76ABAE]/20 text-[#EEEEEE] hover:text-[#76ABAE] px-6 py-2 rounded-lg font-semibold transition-colors border border-[#76ABAE]/30">
                   News
               </button>
               <button onclick="loadWatchlistPage()" id="watchlist-btn" class="bg-transparent hover:bg-[#76ABAE]/20 text-[#EEEEEE] hover:text-[#76ABAE] px-6 py-2 rounded-lg font-semibold transition-colors border border-[#76ABAE]/30">
                   My Watchlist
               </button>
           </div>
           <!-- <div class="flex items-center">
               <input type="text" placeholder="Search tickers..." class="bg-[#222831] text-[#EEEEEE] px-4 py-2 rounded-lg border border-[#76ABAE]/30 focus:border-[#76ABAE] focus:outline-none w-64">
           </div> -->
           <div class="flex items-center">
                <button onclick="openSearchModal()" id="search-icon-btn" class="bg-transparent hover:bg-[#76ABAE]/20 text-[#76ABAE] p-3 rounded-lg transition-colors">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg> Search
                </button>
            </div>
       </nav>

       <!-- Main Content -->
       <div class="flex-1 p-6 overflow-hidden">
           <div class="bg-[#31363F] rounded-lg shadow-lg h-full flex flex-col">
               <!-- Table Header with Filter -->
               <div class="p-4 border-b border-[#76ABAE]/20">
                   <div id="table-header-row" class="flex justify-between items-center">
                        <h2 id="table-title" class="text-2xl font-bold text-[#76ABAE]">Lobbying Data</h2>
                        <div class="flex items-center space-x-4">
                            <!-- Watchlist View - Search ticker input and button - initially hidden --> 
                            <div id="watchlist-controls" class="hidden flex items-center space-x-2">
                                <input type="text" id="ticker-input" placeholder="Search ticker..." class="bg-[#222831] text-[#EEEEEE] px-3 py-2 rounded-l-lg border border-[#76ABAE]/30 focus:border-[#76ABAE] focus:outline-none w-32">
                                <div id="stock-choices-dropdown" class="hidden"></div>
                                <button id="add-ticker-btn" class="bg-[#76ABAE] hover:bg-[#76ABAE]/80 text-[#222831] px-4 py-2 rounded-r-lg font-medium">Add</button>
                            </div>
                            <input type="text" id="filter-input" placeholder="Filter data..." class="bg-[#222831] text-[#EEEEEE] px-4 py-2 rounded-lg border border-[#76ABAE]/30 focus:border-[#76ABAE] focus:outline-none w-64">
                        </div>
                    </div>
                </div>

               <!-- Table Container -->
               <div class="flex-1 overflow-auto">
                   <div id="loading" class="flex items-center justify-center h-full">
                       <div class="text-[#76ABAE] text-xl">Loading data...</div>
                   </div>
                   <table id="data-table" class="w-full hidden">
                       <thead class="bg-[#222831] sticky top-0">
                           <tr id="table-headers">
                               <!-- Headers will be populated by JS -->
                           </tr>
                       </thead>
                       <tbody id="table-body">
                           <!-- Data will be populated by JS -->
                       </tbody>
                   </table>
               </div>
           </div>
       </div>
   </div>

   <!-- Search Modal Pop-up -->
    <!-- Search Modal -->
    <div id="search-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 9999; justify-content: center; align-items: center; padding: 20px;">
        <div style="background: #31363F; border-radius: 12px; width: 90vw; height: 85vh; display: flex; flex-direction: column; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5); max-width: 1200px;">
            <div class="p-6 border-b border-[#76ABAE]/20">
                <div class="flex items-center space-x-4">
                    <input type="text" id="modal-search-input" placeholder="Search stocks or politicians..." 
                        class="flex-1 bg-[#222831] text-[#EEEEEE] px-4 py-3 rounded-lg border border-[#76ABAE]/30 focus:border-[#76ABAE] focus:outline-none text-lg">
                    <button onclick="closeSearchModal()" class="text-[#EEEEEE] hover:text-[#76ABAE] transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <!-- Dropdown -->
                <div id="search-dropdown" class="hidden mt-4 bg-[#222831] rounded-lg max-h-60 overflow-y-auto"></div>
            </div>
            <!-- Results Area -->
            <div id="search-results" class="flex-1 p-6 overflow-y-auto">
                <div class="text-[#76ABAE]/50 text-center">Search for a stock or politician to view details</div>
            </div>
        </div>
    </div>

   <script src="script.js"></script>
</body>
</html>